!function(e){e(function(){var t=e.extend({fieldName:"#s",maxRows:10,minLength:4},SearchAutocomplete);t.fieldName=e("<div />").html(t.fieldName).text(),e(t.fieldName).autocomplete({source:function(n,a){e.ajax({url:t.ajaxurl,dataType:"json",data:{action:"autocompleteCallback",term:e(t.fieldName).val()},success:function(t){a(e.map(t.results,function(e){return{label:e.title,value:e.title,url:e.url}}))},error:function(e,t,n){console.log(e,t,n)}})},minLength:t.minLength,search:function(t){e(t.currentTarget).addClass("sa_searching")},create:function(){},select:function(e,t){return"#"===t.item.url?!0:(location=t.item.url,void 0)},open:function(t){var n=e(this).data("uiAutocomplete");n.menu.element.find("a").each(function(){var t=e(this),a=n.term.split(" ").join("|");t.html(t.text().replace(new RegExp("("+a+")","gi"),'<span class="sa-found-text">$1</span>'))}),e(t.target).removeClass("sa_searching")},close:function(){}})})}(jQuery);
